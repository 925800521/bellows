/*! bellows 2.0.0 2014-06-27 */
(function(t){function e(t,e){this.init(t,e)}var n=function(){},i="bellows--open";return e.DEFAULTS={singleItemOpen:!1,duration:200,easing:"swing",open:n,opened:n,close:n,closed:n},e.prototype.init=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$element=t(n).find("> .bellows__item > .bellows__content").wrap('<div class="bellows__content-wrapper" />').end(),this._bindEvents()},e.prototype._bindEvents=function(){var e=this;this.$element.find("> .bellows__item > .bellows__header").on("click",function(){e.toggle(t(this).parent())})},e.prototype.toggle=function(t){t=this._item(t),this[t.hasClass(i)?"close":"open"](t)},e.prototype.open=function(e){if(e=this._item(e),!e.hasClass(i)){var n=this,o=e.find("> .bellows__content-wrapper"),s=o.find(".bellows__content"),l=s.height();this.options.singleItemOpen&&this.$element.find("."+i).each(function(){n.close(t(this))}),this._trigger("open",{item:e}),e.parent(".bellows").css("height",e.parent(".bellows").height()+l),o.velocity("slideDown",{duration:this.options.duration,easing:this.options.easing,complete:function(){e.addClass(i),o.removeAttr("style"),e.parent(".bellows").css("height",""),n._trigger("opened",{item:e})}})}},e.prototype.close=function(t){if(t=this._item(t),t.hasClass(i)){var e=this,n=t.removeClass(i).find("> .bellows__content-wrapper"),o=n.find(".bellows__content");o.height(),this._trigger("close",{item:t}),n.velocity("slideUp",{begin:function(){t.parent(".bellows").css("height",t.parent(".bellows").height())},duration:this.options.duration,easing:this.options.easing,complete:function(){n.removeAttr("style"),e._trigger("closed",{item:t}),t.parent(".bellows").css("height","")}})}},e.prototype._item=function(t){return"number"==typeof t&&(t=this.$element.find(".bellows__item").eq(t)),t},e.prototype._trigger=function(e,n){e in this.options&&this.options[e].call(this,t.Event("bellows:"+e,{bubbles:!1}),n)},t.fn.bellows=function(n){var i=Array.prototype.slice.call(arguments);return this.each(function(){var o=t(this),s=o.data("bellows");s||o.data("bellows",s=new e(this,n)),"string"==typeof n&&s[n].apply(s,i.length>1?i.slice(1):null)})},t.fn.bellows.Constructor=e,t("[data-bellows]").bellows(),t})(Zepto);