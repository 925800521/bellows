/*! bellows 2.0.1 2014-09-08 */
(function(e){if("function"==typeof define&&define.amd)define(["$","velocity","plugin"],e);else{var i=window.Zepto||window.jQuery;e(i,i.Velocity)}})(function(e,i){function t(e,i){t._super.call(this,e,i)}var n="bellows__item",s="bellows--is-open",o="bellows--is-opening",l="bellows--is-closing",a={ITEM_HEADER:"> .bellows__item > .bellows__header",ITEM_CONTENT_WRAPPER:"> .bellows__content-wrapper",ITEM_CONTENT:"> .bellows__item > .bellows__content"};return t.VERSION="2.0.0",t.DEFAULTS={singleItemOpen:!1,event:"click",duration:200,easing:"swing",open:e.noop,opened:e.noop,close:e.noop,closed:e.noop},e.plugin("bellows",t,{_init:function(i,n){this.options=e.extend(!0,{},t.DEFAULTS,n),this.$bellows=e(i),this.$bellows.find(a.ITEM_CONTENT).wrap('<div class="bellows__content-wrapper" />').parents(".bellows__item:not(.bellows--is-open)").find(a.ITEM_CONTENT_WRAPPER).attr("aria-hidden",!0),this._bindEvents()},_bindEvents:function(){var i=this;this.$bellows.find(a.ITEM_HEADER).bind(this.options.event,function(t){t.preventDefault(),i.toggle(e(this).parent())})},_getHeight:function(e){return parseFloat(i.CSS.getPropertyValue(e[0],"height"))},_setHeight:function(e){this.$bellows.css("height",e||"")},_item:function(e){return"number"==typeof e&&(e=this.$bellows.find("."+n).eq(e)),e},toggle:function(e){e=this._item(e),this[e.hasClass(s)?"close":"open"](e)},open:function(e){if(e=this._item(e),!e.hasClass(s)){var t=this,n=e.find(a.ITEM_CONTENT_WRAPPER);this.options.singleItemOpen&&this.closeAll(),this._trigger("open",{item:e}),i.animate(n,"slideDown",{begin:function(){t._setHeight(t._getHeight(t.$bellows)+t._getHeight(n)),e.addClass(o)},duration:this.options.duration,easing:this.options.easing,complete:function(){e.removeClass(o).addClass(s).find(a.ITEM_CONTENT_WRAPPER).removeAttr("aria-hidden"),t._setHeight(),t._trigger("opened",{item:e})}})}},close:function(e){if(e=this._item(e),e.hasClass(s)){var t=this,n=e.find(a.ITEM_CONTENT_WRAPPER);this._trigger("close",{item:e}),i.animate(n,"slideUp",{begin:function(){t._setHeight(t._getHeight(t.$bellows)),e.removeClass(s).addClass(l)},duration:this.options.duration,easing:this.options.easing,complete:function(){e.removeClass(l).find(a.ITEM_CONTENT_WRAPPER).attr("aria-hidden",!0),t._setHeight(),t._trigger("closed",{item:e})}})}},closeAll:function(){var i=this;this.$bellows.find("."+s).each(function(){i.close(e(this))})}}),e("[data-bellows]").bellows(),e});