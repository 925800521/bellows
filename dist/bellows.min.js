/*! bellows 2.0.0 2014-06-27 */
(function(e){function t(e,t){this.init(e,t)}var n=function(){},i="bellows--open",s="bellows--opening",o="bellows--closing";return t.DEFAULTS={singleItemOpen:!1,duration:200,easing:"swing",open:n,opened:n,close:n,closed:n},t.prototype.init=function(n,i){this.options=e.extend({},t.DEFAULTS,i),this.$element=e(n).find("> .bellows__item > .bellows__content").wrap('<div class="bellows__content-wrapper" />').end(),this._bindEvents()},t.prototype._bindEvents=function(){var t=this;this.$element.find("> .bellows__item > .bellows__header").on("click",function(){t.toggle(e(this).parent())})},t.prototype.toggle=function(e){e=this._item(e),this[e.hasClass(i)?"close":"open"](e)},t.prototype.open=function(t){if(t=this._item(t),!t.hasClass(i)){var n=this,o=t.find("> .bellows__content-wrapper"),l=o.find(".bellows__content"),r=l.height();this.options.singleItemOpen&&this.$element.find("."+i).each(function(){n.close(e(this))}),this._trigger("open",{item:t}),t.parent(".bellows").css("height",t.parent(".bellows").height()+r),o.velocity("slideDown",{begin:function(){t.addClass(s)},duration:this.options.duration,easing:this.options.easing,complete:function(){t.removeClass(s),t.addClass(i),o.removeAttr("style"),t.parent(".bellows").css("height",""),n._trigger("opened",{item:t})}})}},t.prototype.close=function(e){if(e=this._item(e),e.hasClass(i)){var t=this,n=e.removeClass(i).find("> .bellows__content-wrapper"),s=n.find(".bellows__content");s.height(),this._trigger("close",{item:e}),n.velocity("slideUp",{begin:function(){e.addClass(o),e.parent(".bellows").css("height",e.parent(".bellows").height())},duration:this.options.duration,easing:this.options.easing,complete:function(){n.removeAttr("style"),e.parent(".bellows").css("height",""),e.removeClass(o),t._trigger("closed",{item:e})}})}},t.prototype._item=function(e){return"number"==typeof e&&(e=this.$element.find(".bellows__item").eq(e)),e},t.prototype._trigger=function(t,n){t in this.options&&this.options[t].call(this,e.Event("bellows:"+t,{bubbles:!1}),n)},e.fn.bellows=function(n){var i=Array.prototype.slice.call(arguments);return this.each(function(){var s=e(this),o=s.data("bellows");o||s.data("bellows",o=new t(this,n)),"string"==typeof n&&o[n].apply(o,i.length>1?i.slice(1):null)})},e.fn.bellows.Constructor=t,e("[data-bellows]").bellows(),e})(Zepto);